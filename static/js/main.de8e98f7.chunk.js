(window.webpackJsonpzyper=window.webpackJsonpzyper||[]).push([[0],{10:function(e,t,n){e.exports=n(17)},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(4),u=n.n(s),c=n(1),o=n.n(c),l=n(2),i=n(5),p=n(6),m=n(8),h=n(7),f=n(9),d=(n(16),function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},"Usernames: ",r.a.createElement("input",{type:"text",onChange:e.handleInputChange,value:e.userInput}),r.a.createElement("button",null,"Submit"))}),b=function(e){var t=e.accounts[0].output,n=Object.keys(t).map(function(e){return r.a.createElement("li",null,"Key: ",e,", Value: ",t[e])});return r.a.createElement("div",null,r.a.createElement("h3",null,"Results"),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("ul",null,n)))},g=" https://fe-test-zyper-engagement.herokuapp.com",v={Accept:"application/json","Content-Type":"application/json"},E=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={userInput:"",accounts:null},n.handleSubmit=function(e){e.preventDefault();var t={username:n.state.userInput};n.setState({userInput:"",errorMessage:""}),n.getJobID(t).then(function(e){return n.getAccounts(e)})},n.handleEmptySubmit=function(e){e.preventDefault(),n.setState({errorMessage:"Please supply a username"})},n.handleInputChange=function(e){n.setState({userInput:e.target.value})},n.getJobID=function(){var e=Object(l.a)(o.a.mark(function e(t){var a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({message:"Loading..."}),e.next=3,fetch(g+"/start",{method:"POST",headers:v,body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.text();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.getAccounts=function(e){var t,a=function(){var r=Object(l.a)(o.a.mark(function r(){var s,u;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("".concat(g,"/results/").concat(e),{method:"GET",headers:v});case 2:if(202!==(s=r.sent).status){r.next=7;break}console.log("202"),r.next=14;break;case 7:if(200!==s.status){r.next=14;break}return clearTimeout(t),r.next=11,s.json();case 11:return u=r.sent,n.setState({accounts:u,message:""}),r.abrupt("return",!1);case 14:t=setTimeout(a,2e3);case 15:case"end":return r.stop()}},r)}));return function(){return r.apply(this,arguments)}}();a()},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this.state.userInput?this.handleSubmit:this.handleEmptySubmit;return null!=this.state.accounts&&(e=r.a.createElement(b,{accounts:this.state.accounts})),r.a.createElement("div",{className:"App"},r.a.createElement("div",null,this.state.errorMessage&&r.a.createElement("span",{className:"error"},this.state.errorMessage),this.state.message&&r.a.createElement("span",{className:"loading"},this.state.message),r.a.createElement(d,{handleInputChange:this.handleInputChange,userInput:this.state.userInput,handleSubmit:t}),e))}}]),t}(a.Component);u.a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.de8e98f7.chunk.js.map